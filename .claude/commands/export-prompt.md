---
model: haiku
description: 会話のユーザー入力のみをエクスポートします。引数なしでクリップボード、filepathを指定するとファイルに出力
argument-hint: [filepath]

mode: agent
---

# ユーザー入力のエクスポート

この会話でユーザーが入力した内容のみをエクスポートしてください。

## 1. 出力対象

以下のルールでユーザー入力を抽出してください：

- **会話履歴全体**からユーザーが入力したメッセージを対象とする（`claude -c` でセッション再開した場合も、再開前の履歴を含む）
- Claudeの応答は含めない
- システムメッセージやコマンド実行結果は含めない
- 各入力は時系列順に、区切り線（`---`）で分けて出力する

## 2. 出力フォーマット

```
# User Inputs

---
[1つ目のユーザー入力]

---
[2つ目のユーザー入力]

---
[n番目のユーザー入力]
```

## 3. 出力の実行

引数: $ARGUMENTS

### 引数がない場合（クリップボード）

1. 上記フォーマットで内容を作成する
2. **必ず `Bash` ツールを使って以下のコマンドを実行すること**:
   ```bash
   cat <<'EOF' | pbcopy
   [作成した内容]
   EOF
   ```
3. 「クリップボードにコピーしました」と報告する

### 引数がある場合（ファイル出力）

1. 上記フォーマットで内容を作成する
2. **必ず `Write` ツールを使って**指定されたファイルパスに出力する
3. 「[ファイルパス] に出力しました」と報告する

## 重要な注意事項

- **ツールを使わずに「コピーしました」と報告してはならない**
- 会話履歴を正確に振り返り、ユーザー入力のみを抽出すること
- 出力フォーマットは厳密に守ること
- レスポンスには内容を表示しなくてよい（クリップボードまたはファイルに出力されるため）